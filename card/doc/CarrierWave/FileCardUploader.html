<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: CarrierWave::FileCardUploader
  
    &mdash; Documentation by YARD 0.9.25
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "CarrierWave::FileCardUploader";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../CarrierWave.html" title="CarrierWave (module)">CarrierWave</a></span></span>
     &raquo; 
    <span class="title">FileCardUploader</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: CarrierWave::FileCardUploader
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Uploader::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Uploader::Base</li>
          
            <li class="next">CarrierWave::FileCardUploader</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../Card/Env/Location.html" title="Card::Env::Location (module)">Card::Env::Location</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>mod/carrierwave/lib/carrier_wave/file_card_uploader.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Takes care of the file upload for cards with attached files.
Most of the upload behaviour depends on the card itself.
(e.g. card type and storage option chosen for the card). So in contrary
to CarrierWave’s default uploader we depend very much on the model
(= card object) to get the correct paths for retrieving and storing
the file.</p>

<p>Cards that support attachments (by default those are cards of type “file”
and “image”) accept a file handle as a card attribute.</p>

<p>It’s possible to upload files using a url. The card attribute for that is
remote_<attachment_type>_url</attachment_type></p>

<h2 id="storage-types">Storage types</h2>
<p>You can choose between four different storage options
 - coded: These files are in the codebase, like the default logo.
     Every view is a decko request.
 - local: Uploaded files which are stored in a local upload directory
     (upload path is configurable via config.paths[“files”]).
     If read permissions are set such that “Anyone” can read, then there is
     a symlink from the public directory.  Otherwise every view is a wagn
     request.
 - cloud: You can configure buckets that refer to an external storage
     service. Link is rendered as absolute url
 - web: A fixed url (to external source). No upload or other file
     processing. Link is just the saved url.</p>

<p>Currently, there is no web interface that let’s a user or administrator
choose a storage option for a specific card or set of cards.
There is only a global config option to set the storage type for all new
uploads (config.storage_type). On the *admin card it’s possible to
update all existing file cards according to the current global config.</p>

<p>Storage types for single cards can be changed by developers using
the card attributes “storage_type”, “bucket”, and “mod”.</p>

<p>Depending on the storage type the uploader uses the following paths
and identifiers.
### Identifier (stored in the database as db_content)
 - coded: :codename/mod_name.ext
 - local: ~card_id/action_id.ext
 - cloud: (bucket)/card_id/action_id.ext
 - web: http://url</p>

<h3 id="storage-path">Storage path</h3>
<ul>
  <li>coded:
mod_dir/file/codename/type_code(-variant).ext  (no colon on codename!)</li>
  <li>local:
files_dir/card_id/action_id(-variant).ext           (no tilde on id!)</li>
  <li>cloud:
bucket/bucket_subdir/id/action_id(-variant).ext</li>
  <li>web: no storage</li>
</ul>

<p>Variants are only used for images. Possible options are
icon|small|medium|large|original.
files_dir, bucket, and bucket_subdir can be changed via config options.</p>

<h3 id="supported-url-patterns">Supported url patterns</h3>
<p>mark.ext
mark/revision.ext
mark/revision-variant.ext
/files/mark/revision-variant.ext  # &lt;- public symlink if readable by
                                  #    “Anyone”</p>

<p><mark> can be one of the following options
- <card name="">
- ~<card>
- :<code name=""></code></card></card></mark></p>

<revision> is the mod name if the file is coded or and action_id in any
case

Examples:
*logo.png
~22/33-medium.png               # local
:yeti_skin/standard-large.png   # coded
</revision>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Attaching a file to a file card</p>
</div></p>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../Card.html" title="Card (class)">Card</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file card</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:file</span><span class='comma'>,</span>
            <span class='label'>file:</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_path_to_file'>path_to_file</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Attaching a image to a image card</p>
</div></p>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../Card.html" title="Card (class)">Card</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file card</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:image</span><span class='comma'>,</span>
            <span class='label'>image:</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_path_to_image'>path_to_image</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Create a file card using a remote url</p>
</div></p>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../Card.html" title="Card (class)">Card</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file_card</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:file</span><span class='comma'>,</span>
            <span class='label'>remote_file_url:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://a.file.in/the.web</span><span class='tstring_end'>&quot;</span></span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Updating a image card using a remote url</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='label'>remote_image_url:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://a.image/somewhere.png</span><span class='tstring_end'>&quot;</span></span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Creating a hard-coded file</p>
</div></p>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../Card.html" title="Card (class)">Card</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file card</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type_id:</span> <span class='const'><span class='object_link'><a href="../Card.html" title="Card (class)">Card</a></span></span><span class='op'>::</span><span class='const'>FileID</span><span class='comma'>,</span>
            <span class='label'>file:</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='label'>storage_type:</span> <span class='symbol'>:coded</span><span class='comma'>,</span> <span class='label'>mod:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>account</span><span class='tstring_end'>&quot;</span></span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Moving a file to a cloud service</p>
</div></p>
      
      <pre class="example code"><code># my_deck/config/application.rb:
config.file_buckets = {
  aws_bucket: {
    provider: &quot;fog/aws&quot;,
    directory: &quot;bucket-name&quot;,
    subdirectory: &quot;files&quot;,
    credentials: {
       provider: &#39;AWS&#39;                         # required
       aws_access_key_id: &#39;key&#39;                # required
       aws_secret_access_key: &#39;secret-key&#39;     # required
    public: true,
   }
}

# wagn console or rake task:
card.update storage_type: :cloud, bucket: :aws_bucket</code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Creating a file card with fixed external link</p>
</div></p>
      
      <pre class="example code"><code>Card.create name: &quot;file card&quot;, type_id: Card::FileID,
            content: &quot;http://animals.org/cat.png&quot;
            storage_type: :web

Card.create name: &quot;file card&quot;, type_id: Card::FileID,
            file: &quot;http://animals.org/cat.png&quot;
            storage_type: :web</code></pre>
    
  </div>


</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="ImageCardUploader.html" title="CarrierWave::ImageCardUploader (class)">ImageCardUploader</a></span></p>
</div>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="STORAGE_TYPES-constant" class="">STORAGE_TYPES =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:cloud</span><span class='comma'>,</span> <span class='symbol'>:web</span><span class='comma'>,</span> <span class='symbol'>:coded</span><span class='comma'>,</span> <span class='symbol'>:local</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CONFIG_OPTIONS-constant" class="">CONFIG_OPTIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:provider</span><span class='comma'>,</span> <span class='symbol'>:attributes</span><span class='comma'>,</span> <span class='symbol'>:directory</span><span class='comma'>,</span> <span class='symbol'>:public</span><span class='comma'>,</span> <span class='symbol'>:credentials</span><span class='comma'>,</span>
<span class='symbol'>:authenticated_url_expiration</span><span class='comma'>,</span> <span class='symbol'>:use_ssl_for_aws</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CONFIG_CREDENTIAL_OPTIONS-constant" class="">CONFIG_CREDENTIAL_OPTIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='symbol'>:provider</span><span class='comma'>,</span>
  <span class='symbol'>:aws_access_key_id</span><span class='comma'>,</span> <span class='symbol'>:aws_secret_access_key</span><span class='comma'>,</span> <span class='symbol'>:region</span><span class='comma'>,</span> <span class='symbol'>:host</span><span class='comma'>,</span> <span class='symbol'>:endpoint</span><span class='comma'>,</span>
  <span class='symbol'>:google_access_key_id</span><span class='comma'>,</span> <span class='symbol'>:google_secret_access_key</span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#mod-instance_method" title="#mod (instance method)">#<strong>mod</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute mod.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#action_id-instance_method" title="#action_id (instance method)">#<strong>action_id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#asset_host-instance_method" title="#asset_host (instance method)">#<strong>asset_host</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bucket_config-instance_method" title="#bucket_config (instance method)">#<strong>bucket_config</strong>(option)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cache_dir-instance_method" title="#cache_dir (instance method)">#<strong>cache_dir</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_versions%3F-instance_method" title="#create_versions? (instance method)">#<strong>create_versions?</strong>(new_file)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_content-instance_method" title="#db_content (instance method)">#<strong>db_content</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>generate identifier that gets stored in the card’s db_content field.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extension-instance_method" title="#extension (instance method)">#<strong>extension</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename-instance_method" title="#filename (instance method)">#<strong>filename</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_url-instance_method" title="#local_url (instance method)">#<strong>local_url</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_url_base-instance_method" title="#local_url_base (instance method)">#<strong>local_url_base</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#original_filename-instance_method" title="#original_filename (instance method)">#<strong>original_filename</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>(version = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>paperclip compatibility used in type/file.rb#core (base format).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public_path-instance_method" title="#public_path (instance method)">#<strong>public_path</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#retrieve_path-instance_method" title="#retrieve_path (instance method)">#<strong>retrieve_path</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store_path-instance_method" title="#store_path (instance method)">#<strong>store_path</strong>(for_file = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Carrierwave calls store_path without argument when it stores the file and with the identifier from the db when it retrieves the file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tmp_path-instance_method" title="#tmp_path (instance method)">#<strong>tmp_path</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#url-instance_method" title="#url (instance method)">#<strong>url</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#url_filename-instance_method" title="#url_filename (instance method)">#<strong>url_filename</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid%3F-instance_method" title="#valid? (instance method)">#<strong>valid?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Card/Env/Location.html" title="Card::Env::Location (module)">Card::Env::Location</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Card/Env/Location.html#card_path-instance_method" title="Card::Env::Location#card_path (method)">#card_path</a></span>, <span class='object_link'><a href="../Card/Env/Location.html#card_url-instance_method" title="Card::Env::Location#card_url (method)">#card_url</a></span>, <span class='object_link'><a href="../Card/Env/Location.html#cardname_from_url-instance_method" title="Card::Env::Location#cardname_from_url (method)">#cardname_from_url</a></span>, <span class='object_link'><a href="../Card/Env/Location.html#protocol_and_host-instance_method" title="Card::Env::Location#protocol_and_host (method)">#protocol_and_host</a></span></p>

  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="mod=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="mod-instance_method">
  
    #<strong>mod</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute mod.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mod'>mod</span>
  <span class='ivar'>@mod</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="action_id-instance_method">
  
    #<strong>action_id</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 286</span>

<span class='kw'>def</span> <span class='id identifier rubyid_action_id'>action_id</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_selected_content_action_id'>selected_content_action_id</span> <span class='op'>||</span> <span class='id identifier rubyid_action_id_stand_in'>action_id_stand_in</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="asset_host-instance_method">
  
    #<strong>asset_host</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 299</span>

<span class='kw'>def</span> <span class='id identifier rubyid_asset_host'>asset_host</span>
  <span class='id identifier rubyid_bucket_config'>bucket_config</span><span class='lparen'>(</span><span class='symbol'>:asset_host</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bucket_config-instance_method">
  
    #<strong>bucket_config</strong>(option)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 295</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bucket_config'>bucket_config</span> <span class='id identifier rubyid_option'>option</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id identifier rubyid_bucket_config'>bucket_config</span><span class='lbracket'>[</span><span class='id identifier rubyid_option'>option</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cache_dir-instance_method">
  
    #<strong>cache_dir</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 246</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cache_dir'>cache_dir</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id identifier rubyid_files_base_dir'>files_base_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/cache</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_versions?-instance_method">
  
    #<strong>create_versions?</strong>(new_file)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


272
273
274</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 272</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_versions?'>create_versions?</span> <span class='id identifier rubyid_new_file'>new_file</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_create_versions?'>create_versions?</span> <span class='id identifier rubyid_new_file'>new_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db_content-instance_method">
  
    #<strong>db_content</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>generate identifier that gets stored in the card’s db_content field</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>generate an identifier using the given storage options
instead of the storage options derived from the model and
the global configuration</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">storage_type</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
        <li>
          <span class="name">mod</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
        <li>
          <span class="name">bucket</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 204</span>

<span class='kw'>def</span> <span class='id identifier rubyid_db_content'>db_content</span> <span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_with_storage_options'>with_storage_options</span> <span class='id identifier rubyid_opts'>opts</span> <span class='kw'>do</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span> <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_web?'>web?</span>
    <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s/%s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_file_dir'>file_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_url_filename'>url_filename</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extension-instance_method">
  
    #<strong>extension</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190
191
192
193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extension'>extension</span>
  <span class='kw'>case</span>
  <span class='kw'>when</span> <span class='id identifier rubyid_file'>file</span><span class='op'>&amp;.</span><span class='id identifier rubyid_extension'>extension</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>     <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='id identifier rubyid_card_content'>card_content</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span> <span class='kw'>then</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_card_content'>card_content</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='id identifier rubyid_orig'>orig</span> <span class='op'>=</span> <span class='id identifier rubyid_original_filename'>original_filename</span>     <span class='kw'>then</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_orig'>orig</span><span class='rparen'>)</span>
  <span class='kw'>else</span>                              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filename-instance_method">
  
    #<strong>filename</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_coded?'>coded?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_type_code'>type_code</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_action_id'>action_id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_url-instance_method">
  
    #<strong>local_url</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 233</span>

<span class='kw'>def</span> <span class='id identifier rubyid_local_url'>local_url</span> <span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s/%s/%s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_local_url_base'>local_url_base</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_file_dir'>file_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_full_filename'>full_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_url_filename'>url_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_url_base-instance_method">
  
    #<strong>local_url_base</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 237</span>

<span class='kw'>def</span> <span class='id identifier rubyid_local_url_base'>local_url_base</span> <span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_web_path'>web_path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Card.html" title="Card (class)">Card</a></span></span><span class='period'>.</span><span class='id identifier rubyid_config'><span class='object_link'><a href="../Card.html#config-class_method" title="Card.config (method)">config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_files_web_path'>files_web_path</span>
  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:absolute</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_card_url'>card_url</span><span class='lparen'>(</span><span class='id identifier rubyid_web_path'>web_path</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_card_path'>card_path</span><span class='lparen'>(</span><span class='id identifier rubyid_web_path'>web_path</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="original_filename-instance_method">
  
    #<strong>original_filename</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 281</span>

<span class='kw'>def</span> <span class='id identifier rubyid_original_filename'>original_filename</span>
  <span class='ivar'>@original_filename</span> <span class='op'>||=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_selected_action'>selected_action</span> <span class='op'>&amp;&amp;</span>
                         <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_selected_action'>selected_action</span><span class='period'>.</span><span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path-instance_method">
  
    #<strong>path</strong>(version = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>paperclip compatibility used in type/file.rb#core (base format)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 277</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path'>path</span> <span class='id identifier rubyid_version'>version</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='id identifier rubyid_version'>version</span> <span class='op'>?</span> <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_version'>version</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>:</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public_path-instance_method">
  
    #<strong>public_path</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


242
243
244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 242</span>

<span class='kw'>def</span> <span class='id identifier rubyid_public_path'>public_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'><span class='object_link'><a href="../Cardio.html" title="Cardio (module)">Cardio</a></span></span><span class='period'>.</span><span class='id identifier rubyid_paths'>paths</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_existent'>existent</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="retrieve_path-instance_method">
  
    #<strong>retrieve_path</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 263</span>

<span class='kw'>def</span> <span class='id identifier rubyid_retrieve_path'>retrieve_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_retrieve_dir'>retrieve_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_full_filename'>full_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store_path-instance_method">
  
    #<strong>store_path</strong>(for_file = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Carrierwave calls store_path without argument when it stores the file
and with the identifier from the db when it retrieves the file.
In our case the first part of our identifier is not part of the path
but we can construct the filename from db data. So we don’t need the
identifier.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_store_path'>store_path</span> <span class='id identifier rubyid_for_file'>for_file</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_for_file'>for_file</span>
    <span class='id identifier rubyid_retrieve_path'>retrieve_path</span>
  <span class='kw'>else</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_store_dir'>store_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_full_filename'>full_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tmp_path-instance_method">
  
    #<strong>tmp_path</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tmp_path'>tmp_path</span>
  <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_mkdir'>mkdir</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_tmp_upload_dir'>tmp_upload_dir</span> <span class='kw'>unless</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_tmp_upload_dir'>tmp_upload_dir</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_tmp_upload_dir'>tmp_upload_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="url-instance_method">
  
    #<strong>url</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:absolute</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><ul>
  <li>return absolute url</li>
</ul>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 223</span>

<span class='kw'>def</span> <span class='id identifier rubyid_url'>url</span> <span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_cloud?'>cloud?</span>
    <span class='id identifier rubyid_file'>file</span><span class='op'>&amp;.</span><span class='id identifier rubyid_url'>url</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_web?'>web?</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_local_url'>local_url</span> <span class='id identifier rubyid_opts'>opts</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="url_filename-instance_method">
  
    #<strong>url_filename</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217
218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 212</span>

<span class='kw'>def</span> <span class='id identifier rubyid_url_filename'>url_filename</span> <span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_with_storage_options'>with_storage_options</span> <span class='id identifier rubyid_opts'>opts</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_coded?'>coded?</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_mod'>mod</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_action_id'>action_id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid?-instance_method">
  
    #<strong>valid?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mod/carrierwave/lib/carrier_wave/file_card_uploader.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid?'>valid?</span>
  <span class='id identifier rubyid_extension'>extension</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Sep 10 15:02:51 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.6.3).
</div>

    </div>
  </body>
</html>