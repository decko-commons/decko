---
# Cardtypes

- :name: User
  :type: :cardtype
  :codename: :user
- :name: Role
  :type: :cardtype
  :codename: :role
- :name: Sign up
  :type: :cardtype
  :codename: :signup

# Roles

- :name: Anyone
  :type: :role
  :codename: :anyone
- :name: Anyone Signed In
  :type: :role
  :codename: :anyone_signed_in
- :name: Administrator
  :type: :role
  :codename: :administrator
- :name: Eagle
  :type: :role
  :codename: :eagle
- :name: Shark
  :type: :role
  :codename: :shark
- :name: Help Desk
  :type: :role
  :codename: :help_desk
- :name: Anonymous
  :codename: :anonymous
  :content: "<p>Edits made by people who are not signed in are credited to Anonymous.
    [[http://decko.org/account|Learn more about accounts]].</p>"

- :name: "*account"
  :codename: :account
  :subfields:
    :right:
      :subfields:
        :update: Help Desk
        :delete: Help Desk
        :read: Help Desk
  :content: |-
    <div>When someone signs up, they create a [[Sign up]] card...</div>
    <blockquote>
    <div>{{Sign up|closed;title: Sign ups}}</div>
    </blockquote>
    <div>...that can be changed into a [[User]] card:</div>
    <blockquote>
    <div>{{User|title: Users; closed}}</div>
    </blockquote>
    <div>Some important [[http://decko.org/permissions|permissions]]:</div>
    <div>
    <ul>
    <li>When [[Anyone]] can [[*create|create]] a [[Sign up]] card, links to sign up will appear.</li>
    <li>When [[Anyone]] can [[*create|create]] a [[User]] card, each [[Sign up]] can be auto-approved with a verification email.</li>
    <li>If permission to [[*create|create]] a [[User]] is restricted, someone with that permission must approve each [[Sign up]] by hand.</li>
    </ul>
    </div>
    <h5>Related links</h5>
    <ul>
    <li><em>[[http://decko.org/account | Accounts docs]]</em></li>
    <li><em>[[Cards with accounts]]</em></li>
    <li><em>[[*account+*right+by name|Account cards]]</em></li>
    </ul>

# :account fields

- :name: "*email"
  :codename: :email
  :subfields:
    :right:
      :subfields:
        :update: Help Desk
        :delete: Help Desk
        :read: Help Desk
        :default: phrase
- :name: "*password"
  :codename: :password
  :subfields:
    :right:
      :subfields:
        :update: Help Desk
        :delete: Help Desk
        :read: Help Desk
        :default: phrase
- :name: "*salt"
  :codename: :salt
  :subfields:
    :right:
      :subfields:
        :read: Help Desk
- :name: "*status"
  :codename: :status
  :subfields:
    :right:
      :subfields:
        :update: Help Desk
        :delete: Help Desk
        :read: Help Desk

- :name: "*account settings"
  :codename: :account_settings
  :content: |-
    <p>{{+description}}</p>
    <p>&nbsp;</p>
    <h1>Accounts with the {{_self|name}} role<br></h1>
    <blockquote>
    <p>{{+*members}}</p>
    </blockquote>


- :name: welcome email
  :type: :email_template
  :codename: :welcome_email
- :name: verification email
  :type: :email_template
  :codename: :verification_email
  :subfields:
    :subject: verification link for {{:title|core}}
    :html_message: "<div style=\"text-align:center\"> \n\n  <h1>Thank you for signing up
      with {{*title|core}}!</h1>\n\n  <p>Please <a href=\"{{_|verify_url}}\">follow
      this link</a> to verify this email address and activate your account.</p>\n\n
      \ <p><em>Link will remain valid for {{_|verify_days}} days.</em></p>\n\n</div>\n"
    text_message: |+
      Thank you for signing up with {{:title|core}}!
  
      Please follow the link below to verify this email address and activate your account.
  
      {{_|verify_url}}
      (Link will remain valid for {{_|verify_days}} days.)
- :name: password reset email
  :type: :email_template
  :codename: :password_reset_email
  :subfields:
    :subject: reset password for {{:title|core}}
    :text_message: "** Password reset for {{:title|core}} **\n\nSomeone – you, we hope –
      asked to reset your password.  Please follow this link...\n\n  {{_|reset_password_url}}\n
      \ \n...to update your account details.\n\n\n(Link will remain valid for {{_|reset_password_days}}
      days.)\n\n"
    :html_message: "<div style=\"text-align:center\">\n  
      <h1>Password reset for {{:title|core}}</h1>\n
      \ \n  <p>Someone – you, we hope – asked to reset your password.</p>\n  \n  <p>Please
      <a href=\"{{_|reset_password_url}}\">follow this link</a> to update your account
      details.</p>\n  \n  <p><em>Link will remain valid for {{_|reset_password_days}}
      days.</em></p>\n</div>\n\n"
- :name: signup alert email
  :type: :email_template
  :codename: :signup_alert_email
  :subfields:
    :subject: "{{_|name}} signed up for {{:title|core}}"
    :text_message: |
      {{_|name}} ({{+*account+*email|core}}) has signed up on {{:title|core}}.
  
      See {{_|name}}'s card: {{_|url}}
  
      -- the machines running {{:title|core}}
    :html_message: |
      <p>
        {{_|name}} ({{+*account+*email|core}})
        has <a href="{{_|url}}">signed up</a>
        on {{:title|core}}.
      </p>
  
      <p><em>-- the machines running {{:title|core}}</em></p>


- :name: "*signin"
  :codename: :signin
  :subfields:
    :self:
      :subfields:
        :update: Anyone
- :name: "*roles"
  :codename: :roles
- :name: "*enabled roles"
  :codename: :enabled_roles

- :name: "*account links"
  :codename: :account_links


- :name: "*created"
  :codename: :created
- :name: "*edited"
  :codename: :edited
- :name: "*editors"
  :codename: :editors
- :name: "*members"
  :codename: :members
- :name: "*last edited"
- :name: "*creator"

- :name: Cards with accounts
  :type: :search_type
  :codename: :cards_with_account
  :content: '{"right_plus": "*account"}'

- :name: Signup Success
  :content: "<div>Thank you for signing up with {{*title|core}}. You should receive
    a response in your email.</div>"